<!DOCTYPE html>
<html>
<head>
    <title>Ludum Dare 41 - Penguin Defense</title>
    <script src="//cdn.jsdelivr.net/phaser/2.6.2/phaser.min.js"></script>
</head>
<body>

    <script>
    
        var game = new Phaser.Game(800, 600, Phaser.AUTO, 'penguin-defense', { preload: preload, create: create, update: update, render: render });

        function preload() {
            game.load.image('player', 'assets/sprites/phaser-dude.png');
            game.load.image('enemy', 'assets/sprites/phaser-dude.png');
        }

        var player;

        var enemy;

        var upKey;
        var downKey;
        var leftKey;
        var rightKey;

        function create() {
            game.physics.startSystem(Phaser.Physics.ARCADE);

            game.stage.backgroundColor = '#736357';

            player = game.add.sprite(300, 300, 'player');

            enemy = game.add.sprite(700, 300, 'enemy');

            game.physics.arcade.enable([player, enemy]);

            player.body.collideWorldBounds = true;

            upKey = game.input.keyboard.addKey(Phaser.Keyboard.UP);
            downKey = game.input.keyboard.addKey(Phaser.Keyboard.DOWN);
            leftKey = game.input.keyboard.addKey(Phaser.Keyboard.LEFT);
            rightKey = game.input.keyboard.addKey(Phaser.Keyboard.RIGHT);

            game.physics.enable(player, Phaser.Physics.ARCADE);
            player.body.collideWorldBounds = true;
        }

        function update() {

            var playerSpeed = 200;

            if (upKey.isDown)
            {
                player.body.veloctiy.y = -playerSpeed;
            }
            else if (downKey.isDown)
            {
                player.body.veloctiy.y = playerSpeed;
            } else 
            {
                player.body.velocity.y = 0;
            }

            if (leftKey.isDown)
            {
                player.body.velocity.x = -playerSpeed;
            }
            else if (rightKey.isDown)
            {
                player.body.velocity.x = playerSpeed; 
            } else 
            {
                player.body.velocity.x = 0;
            }

            enemy.body.velocity.x = -100;

            game.physics.arcade.collide(player, enemy);

        }

        function render() {
            if (true) {
                game.debug.body(player);
                game.debug.body(enemy);

                game.debug.bodyInfo(player, 32, 32);
                game.debug.bodyInfo(enemy, 32, 150);
            }
        }

    </script>

</body>
</html>